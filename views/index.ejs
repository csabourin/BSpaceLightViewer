<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" href="https://cdn.glitch.global/b8dc9c88-f259-4777-96b2-3c632dbdf057/favicon-mobile.ico?v=1688299447287">
 <link rel="stylesheet" href="/public/index.css">
  <!-- language switcher -->
  <script>
    const language = localStorage.getItem('language') || 'en';
    document.documentElement.lang = language;
  </script>
    <title>Open Content Viewer</title>
</head>
<body>
  <div class="fip">
    <img src="https://cdn.glitch.global/b8dc9c88-f259-4777-96b2-3c632dbdf057/CSPS_FipEng_Black-Red-Final.svg?v=1688299227280" alt="CSPS logo">
  </div>
    <button id="langSwitch" onclick="switchLanguage()"></button>
    <h1 id="appTitle">Open Content Viewer</h1>
  <label class="sr-only" for="search">Search by title, filename or language:</label>
  <input type="text" id="search" placeholder="Search by title, filename or language...">
  <main class="container" role="main">
    <p id="srUpdate" class="sr-only" aria-live="polite"></p>   

       <% for(let i=0; i<packageFiles.length; i++) { %>
        <div class="tile" data-title="<%= packageFiles[i].title %>" data-file="<%= packageFiles[i].file %>" data-lang="<%= packageFiles[i].lang =="en-ca"?"English anglais":"French franÃ§ais" %>">
  <a href="<%= packageFiles[i].file ? `/load/${encodeURIComponent(packageFiles[i].file)}?lang=${packageFiles[i].lang}` : 'javascript:' %>">
    <%= packageFiles[i].title %> <!-- displays the title -->
  </a>
</div>
    <% } %>
      <div class="adminConsole"><a href="/adminconsole" aria-label="Admin console">&#120645;</a></div>
       </main>
          <div id="overlay">
            <p id="loadingText">Loading...</p> <!-- Loading text -->
  <div id="spinner"></div>
  
</div>
<script src="/public/index.js"></script>
</body>
</html>
